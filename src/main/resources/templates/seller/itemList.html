<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head th:include="fragments/header :: header" />
<head>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container">
    <div th:replace="fragments/bodyHeader :: bodyHeader"/>
    <div class="container">
        <div class="btn-toolbar" role="toolbar">
            <div class="btn-group mr-2 mb-2" role="group">
                <a href="/seller/items/new" class="btn btn-primary">상품추가</a>
            </div>
            <div class="btn-group mr-2 mb-2" role="group">
                <button type="button" class="btn btn-primary btn-group">선택상품삭제</button>
            </div>
        </div>

        <table class="table table-striped">
            <thead>
            <th><input type="checkbox" id="itemAll"></th>
            <th>상품명</th>
            <th>판매가</th>
            <th>분류</th>
            <th>상태</th>
            </thead>
            <tbody>
            <tr th:each="item : ${itemList}">
                <td><input type="checkbox" name="category"></td>
                <td th:text="${item.name}"></td>
                <td th:text="${item.price}"></td>
                <td>
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownButton" data-toggle="dropdown">
                            보기<span class="badge badge-pill badge-success ml-2" th:text="${item.itemCategories.size()}"></span>
                        </button>
                        <div class="dropdown-menu">
                            <p th:each="ic : ${item.itemCategories}" style="font-size: small"
                                class="dropdown-item align-content-center m-0" th:text="${ic.category.name}"></p>
                        </div>
                    </div>
                </td>
                <td th:text="${item.status}"></td>
            </tr>
            </tbody>
        </table>


    </div>

    <div th:replace="fragments/footer :: footer"/>
</div>
</body>
</html>

<script>
    $('#itemAll').change(function () {
        var checked = $(this).prop('checked')
        $('input[name="category"]').prop('checked', checked)
    })

</script>